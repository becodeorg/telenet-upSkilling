/*! proxistore-frontend-tag-repo 2018-10-26 */
var $ps=function(a){function b(){return null!==navigator.userAgent.match(/Android|(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|bolt|cldc|compal|doris|elaine|fennec|gobrowser|hiptop|htc|huawei|iemobile|ip(hone|od|ad)|iris|kindle|lge |lumia|nokia|maemo|mib|midp|minimo|mmp|model-orange|netfront|nexus \d+|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|playbook|plucker|pocket|psp|qnx|semc-browser|series(4|6)0|Silk|skyfire|symb(ian|ianos|os)|teashark|teleca|treo|up\.(browser|link)|uzard|wap|windows (ce|phone)|xda|xiino/i)}function c(){return(screen.height>screen.width?screen.width:screen.height)>504}function d(){return b()?c()?"TABLET":"PHONE":"DESKTOP"}return a.parameters=a.parameters||{},a.parameters.initParameters=function(a){if(a=a||{},a.version=window.localStorage&&localStorage.getItem("ps_version")||(new Date).getTime(),a.desactivateHtml5=a.desactivateHtml5||!1,a.publisherSpotParams){a.publisherSpotIds=[];for(var b=a.publisherSpotParams.length;b--;)a.publisherSpotIds.push(a.publisherSpotParams[b].publisherSpotId)}else a.adsIdx=0,a.boxId=a.boxId||"proxistore-"+a.publisherSpotId;a.deviceType=d()},a}($ps||{}),$ps=function(a){function b(a,b){var c=document.createAttribute(a);return c.value=b,c}function c(a,c){var d=document.getElementById(c),e=document.getElementById("ps-pixelCounter-"+a);if(null===e){e=document.createElement("div");var f=b("id","ps-pixelCounter-"+a);e.setAttributeNode(f);var g=b("class","ps-pixelCounter");e.setAttributeNode(g);var h=b("style","display:none");e.setAttributeNode(h),d.appendChild(e)}return e}function d(a,c){c=-1==c.search("\\?")?c+"?ps_v="+(new Date).getTime():c+"&ps_v="+(new Date).getTime();var d=document.createElement("img"),e=b("src",c);d.setAttributeNode(e),a.appendChild(d)}a.common=a.common||{};var e=0;return a.common.param=function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&a[b]&&c.push(b+"="+a[b]);return c.join("&")},a.common.getCityName=function(a,b,c){var d="https://maps.googleapis.com/maps/api/geocode/json?latlng="+a+","+b+"&key=AIzaSyDIn8wAA-Qaj7-Oh_K04IOTpO6erB66Ruo",e=new XMLHttpRequest;e.open("GET",d,!0),e.onload=function(a){var b="",d=JSON.parse(e.responseText);if("OK"==d.status){for(i=0;i<d.results.length;i++)for(j=0;j<d.results[i].types.length;j++)"locality"==d.results[i].types[j]&&(b=d.results[i].address_components[j].long_name);c(b)}else c(b)},e.onerror=function(a){c("")},e.send()},a.common.jsonp=function(b,c,d){var f="ps_"+(new Date).getTime()+e,g=document.createElement("script"),h=document.getElementsByTagName("head")[0]||document.documentElement,i=!1,j=b.indexOf("?")>0?"&":"?";e++,"function"!=typeof c||d||(d=c,c=void 0),window[f]=function(a){d&&d(a)},g.onload=g.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,g.onload=g.onreadystatechange=null,h&&g.parentNode&&h.removeChild(g))},c&&("string"!=typeof c&&(c=a.common.param(c)),b+="?"+c),d&&(c&&(j="&"),b+=j+"callback="+f),g.src=b,h.insertBefore(g,h.firstChild)},a.common.unserialize=function(a){for(var b=[],c=a.split(/&/g),d=c.length;d--;)c[d].indexOf("+")>-1&&(b[decodeURIComponent(c[d].substring(0,c[d].indexOf("+")))]=decodeURIComponent(c[d].substring(c[d].indexOf("+")+1)));return b},a.common.recordstat=function(a){},a.common.getScript=a.getScript=function(a,b){var c=document.getElementsByTagName("head")[0]||document.documentElement,d=document.createElement("script");d.async=!0,d.src=a,b&&d.addEventListener&&d.addEventListener("load",function(){b()}),c.insertBefore(d,c.firstChild)},a.common.addPixelCounter=function(a,b,e){var f=c(a,b);if(e.constructor!==Array)d(f,e);else for(var g=e.length;g--;)d(f,e[g])},a}($ps||{}),$ps=function(a){function b(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)}function c(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function d(){return b()&&c()}return a.geo=a.geo||{},a.geo.getPos=function(b,c,d,e){a.common.jsonp(c+"cookie/read",function(b){if(b.value&&"function"==typeof e){var c=a.common.unserialize(b.value),d=c.GT,f=c.CO.split("*")[0],g=c.CO.split("*")[1];e.call(this,f,g,d)}})},a.geo.html5GeoLocation=function(b,c,e){function f(c){if(!isNaN(c.coords.latitude)&&!isNaN(c.coords.longitude)){var d=b+"cookie/create?coord="+c.coords.latitude+"*"+c.coords.longitude+"&geoType=HTML5&accuracy="+c.coords.accuracy;a.common.jsonp(d,function(a){})}}function g(a){}function h(){return{maximumAge:6e5,enableHighAccuracy:!1}}!d()&&!e&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(f,g,h())},a}($ps||{}),$ps=function(a){function b(a,b,c){var d=JSON.parse(localStorage.getItem("ps_capping_"+a))||{frequency:"HOUR",view:2,expires:0};if(b&&(d.expires<=c.getTime()||d.view!=b.view||d.frequency!=b.frequency)){var e=c;switch(b.frequency){case"HOUR":e.setTime(c.getTime()+36e5);break;case"DAY":e.setTime(c.getTime()+864e5);break;case"MINUTE":e.setTime(c.getTime()+6e4)}d={frequency:b.frequency,view:b.view,expires:e.getTime()},localStorage.setItem("ps_capping_"+a,JSON.stringify(d)),localStorage.setItem("ps_exposure_"+a,0)}}function c(b,c){for(var d=!1,e=b.length;e--;){var f=b[e],g=JSON.parse(localStorage.getItem("ps_capping_"+f.publisherSpotId))||{frequency:"HOUR",view:2,expires:0},h=a.exposure||JSON.parse(localStorage.getItem("ps_exposure_"+f.publisherSpotId))||0;if(g.expires<=c.getTime()||h<=g.view){d=!0;break}}return d}function d(a,c){for(var d=a.length;d--;)a[d].hours?localStorage.setItem("ps_ads_"+a[d].publisherSpotReferenceId,JSON.stringify(a[d].hours)):localStorage.removeItem("ps_ads_"+a[d].publisherSpotReferenceId),localStorage.setItem("ps_cpm_"+a[d].publisherSpotReferenceId,a[d].pricePerViews),b(a[d].publisherSpotReferenceId,a[d].capping,c)}function e(a,c,d){for(var e=new Date,f=a.length;f--;){localStorage.setItem("ps_cpm_"+a[f].publisherSpotReferenceId,a[f].pricePerViews),b(a[f].publisherSpotReferenceId,a[f].capping,c);var g=localStorage.getItem("ps_exposure_"+a[f].publisherSpotReferenceId);if(a[f].hours&&g<a[f].capping.view){var h=e.getFullYear().toString()+(e.getMonth()<9?"0"+(e.getMonth()+1).toString():(e.getMonth()+1).toString())+(e.getDate()<10?"0"+e.getDate():e.getDate().toString());a[f].hours&&h in a[f].hours&&a[f].hours[h].indexOf(e.getHours())>=0&&d()}}}return a.start=function(b){var f=new Date;a.parameters.initParameters(b),b.publisherSpotIds&&b.baseUrl&&c(b.publisherSpotParams,f)&&a.common.jsonp(b.baseUrl+b.langCtx+"cookie/uv?id="+b.publisherSpotParams[0].publisherSpotId,function(c){a.geo.getPos(b.publisherSpotParams[0].publisherSpotId,b.baseUrl+b.langCtx,b.deviceType,function(g,h,i){Math.abs(g)>.001&&Math.abs(h)>.001&&a.common.jsonp(b.baseUrl+b.langCtx+"tags/publisher-spot-one-week",{publisherSpotReferenceIds:b.publisherSpotIds,latitude:g,longitude:h,device:b.deviceType,badIp:"BADIP"===i||"IP_MOBILE"===i||"DISQUALIFIED"===i?"true":"false",uniqueVisitorId:c.ui},function(a){localStorage&&(localStorage.setItem("ps_version","2"),b.cb?e(a,f,b.cb):d(a,f))}),"HTML5"!==i&&a.geo.html5GeoLocation(b.baseUrl+b.langCtx,b.deviceType,b.desactivateHtml5)})})},a}($ps||{});